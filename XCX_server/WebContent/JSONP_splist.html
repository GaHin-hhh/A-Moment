<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title></title>
</head>
<body>
    <table id="list" border="1">temp
    </table>
    <script src="./jquery-1.11.1.min.js"  type="text/javascript"></script>
    <script type="text/javascript">
    $(function(){
  	  $.ajax({
            //url: 'http://localhost:8090/XCX_server/json_02',
            url: 'http://itcmsg.bnuz.edu.cn:8090/test/SP_list',
            type: "GET",
			dataType: "jsonp",
			jsonp:'callback',
            // 传递给后台接口，用以获得jsonp回调函数名的参数名(一般默认为:callback)              
			jsonpCallback:"successCallback",
            // 自定义的jsonp回调函数名称，默认为jQuery自动生成的随机函数名，
            // 也可以写"?"，jQuery会自动为你处理数据
          success: function(data){
               console.log('数据：', data);
               $("#list").html('');
               var json = eval(data); //数组       
               $.each(json, function (index, item) {                
                   var spmc = json[index].SPMC;
                  var spjg = json[index].SPJG;
                  var spkc = json[index].SPKC;
                  var sppic=json[index].SPPIC;
                  $("#list").html($("#list").html() + "<tr><td>" + spmc + " </td><td> " + spjg + " </td><td> " + spkc +  " </td><td><img style='width:40px' src='http://itcmsg.bnuz.edu.cn:8090/test/pic/" + sppic +"'> </td></tr>");
               });
            },
            /* http://itcmsg.bnuz.edu.cn:8090/test/pic */
            error: function(){
               alert('faile');
            }
        });
   })
    </script>
    
     
</body>
</html>
